function gatherPiece(e,t,n,o){var r=e.getBBox(),a=t.getBBox(),i=r.x,l=r.y,c=i-a.x,u=l-a.y;t.animate({transform:"t"+[c,u]},300,mina.backin),"undefined"!=n&&"undefined"!=typeof o&&window.setTimeout(o,n)}function roll(e,t,n){e.animate({transform:"t"+[0,-n]},t,mina.elastic)}function getDispatchElements(e){return elements=new Array,elements.roueBackRight=e.select("#roue-back-right"),elements.roueBackLeft=e.select("#roue-back-left"),elements.carenageRight=e.select("#carenage-right"),elements.carenageLeft=e.select("#carenage-left"),elements.roueFrontRight=e.select("#roue-front-right"),elements.roueFrontLeft=e.select("#roue-front-left"),elements.moteur=e.select("#moteur"),elements.moteurElec=e.select("#moteur-elec"),elements.siege=e.select("#siege"),elements.carenageFront=e.select("#carenage-front"),elements.klaxon=e.select("#klaxon"),elements.phare1=e.select("#phare1"),elements.phare2=e.select("#phare2"),elements.aileron=e.select("#aileron"),elements.janteBackLeft=e.select("#jante-back-left"),elements.janteFrontLeft=e.select("#jante-front-left"),elements.janteBackRight=e.select("#jante-back-right"),elements.janteFrontRight=e.select("#jante-front-right"),elements}function getGreenElements(e){return greenElements=new Array,greenElements.carenageRight=e.select("#carenage-right-vert"),greenElements.carenageLeft=e.select("#carenage-left"),greenElements.siege=e.select("#siege-vert"),greenElements.siege=e.select("#siege-vert"),greenElements.roueBackLeft=e.select("#roue-back-left-vert"),greenElements.roueFrontLeft=e.select("#roue-front-left-vert"),greenElements.roueBackRight=e.select("#roue-back-right-vert"),greenElements.roueFrontRight=e.select("#roue-front-right-vert"),greenElements.moteurElec=e.select("#moteur-elec-green"),greenElements.carenageFront=e.select("#carenage-front-vert"),greenElements}function getKartElements(e){return kartElements=new Array,kartElements.moteurElec=e.select("#moteur-elec"),kartElements.roueBackRight=e.select("#roue-back-right-1"),kartElements.roueBackRight2=e.select("#roue-back-right-2"),kartElements.roueBackLeft=e.select("#roue-back-left-1"),kartElements.roueBackLeft2=e.select("#roue-back-left-2"),kartElements.carenageRight=e.select("#carenage-right"),kartElements.carenageLeft=e.select("#carenage-left"),kartElements.roueFrontRight=e.select("#roue-front-right-1"),kartElements.roueFrontRight2=e.select("#roue-front-right-2"),kartElements.roueFrontLeft=e.select("#roue-front-left-1"),kartElements.roueFrontLeft2=e.select("#roue-front-left-2"),kartElements.siege=e.select("#siege"),kartElements.pilote=e.select("#pilote"),kartElements.carenageFront=e.select("#carenage-front"),kartElements.roueBackRight2.attr({"fill-opacity":0}),kartElements.roueBackLeft2.attr({"fill-opacity":0}),kartElements.roueFrontRight2.attr({"fill-opacity":0}),kartElements.roueFrontLeft2.attr({"fill-opacity":0}),kartElements}function valueAnimation(){var e=Snap("#VALEUR-dispatch");Snap.load("./assets/img/svg/kilix_valeur_dispatch.svg",function(t){var n=getDispatchElements(t),o=50,r=500;animation=!1;for(var a in n)n[a].attr({"fill-opacity":0}),e.append(n[a]);bounce(n.siege,r,o,function(){bounce(n.carenageLeft,r,o,function(){bounce(n.roueBackLeft,r,o,function(){bounceAllElements(n.moteurElec.selectAll("g"),r),bounce(n.moteurElec,r),bounce(n.roueFrontLeft,r,o,function(){bounce(n.klaxon,r,o,function(){bounce(n.roueBackRight,r,o,function(){bounce(n.carenageRight,r,o,function(){bounce(n.roueFrontRight,r,o,function(){bounce(n.carenageFront,r,o,function(){bounce(n.janteBackLeft,r,o,function(){bounce(n.phare2,r,o,function(){bounce(n.janteFrontRight,r,o,function(){bounce(n.aileron,r,o,function(){bounce(n.phare1,r,o,function(){bounce(n.janteFrontLeft,r,o,function(){bounce(n.janteBackRight,r,o,function(){bounceAllElements(n.moteur.selectAll("g"),900),bounce(n.moteur,r,600,function(){Snap.load("./assets/img/svg/kilix_valeur_green.svg",function(){var a=getGreenElements(t);for(var i in a)a[i].attr({"fill-opacity":0}),e.append(a[i]),a[i].animate({"fill-opacity":.3},400);n.janteBackLeft.animate({"fill-opacity":0},r),n.janteFrontRight.animate({"fill-opacity":0},r),n.aileron.animate({"fill-opacity":0},r),n.janteFrontLeft.animate({"fill-opacity":0},r),n.janteBackRight.animate({"fill-opacity":0},r),n.phare2.animate({"fill-opacity":0},r),n.phare1.animate({"fill-opacity":0},r),n.klaxon.animate({"fill-opacity":0},r),n.moteur.animate({opacity:0},r),window.setTimeout(function(){var t=100,i=-40,l=50;moveTop(a.siege,i,t),moveTop(n.siege,i,t,l,function(){moveTop(a.carenageLeft,i,t),moveTop(n.carenageLeft,i,t,l,function(){moveTop(a.roueBackLeft,i,t),moveTop(n.roueBackLeft,i,t,l,function(){moveTop(a.roueFrontRight,i,t),moveTop(n.roueFrontRight,i,t,l,function(){moveTop(a.roueFrontLeft,i,t),moveTop(n.roueFrontLeft,i,t,l,function(){moveTop(a.carenageRight,i,t),moveTop(n.carenageRight,i,t,l,function(){moveTop(a.roueBackRight,i,t),moveTop(n.roueBackRight,i,t,l,function(){moveTop(a.moteurElec,i,t),moveTop(n.moteurElec,i,t,l,function(){moveTop(a.carenageFront,i,t),moveTop(n.carenageFront,i,t,l,function(){for(var t in a)a[t].animate({"fill-opacity":0},100);Snap.load("./assets/img/svg/kilix_valeur_kart.svg",function(t){var l=getKartElements(t);for(var c in l)l[c].attr({"fill-opacity":0});var u=t.select("#kart");u.attr({"fill-opacity":0}),e.append(u);for(var c in l)l[c].attr({transform:"t"+[0,i]});l.pilote.animate({"fill-opacity":1},300,function(){gatherPiece(l.carenageRight,n.carenageRight),gatherPiece(l.roueBackRight,n.roueBackRight),gatherPiece(l.carenageLeft,n.carenageLeft),gatherPiece(l.roueBackLeft,n.roueBackLeft),gatherPiece(l.roueFrontRight,n.roueFrontRight),gatherPiece(l.roueFrontLeft,n.roueFrontLeft),gatherPiece(l.siege,n.siege),gatherPiece(l.carenageFront,n.carenageFront),gatherPiece(l.moteurElec,n.moteurElec,200,function(){for(var e in l)l[e].attr({"fill-opacity":1});for(var e in n)n[e].remove();for(var e in a)a[e].remove();window.setTimeout(function(){for(var e in l)l[e].animate({transform:"t"+[0,-i]},500,mina.bounce);window.setTimeout(function(){window.setInterval(function(){roll(l.roueFrontLeft,r,i+2),roll(l.roueFrontRight,r,i+2),setTimeout(function(){roll(l.roueBackLeft,r,i+2),roll(l.roueBackRight,r,i+2)},o)},150),window.setInterval(function(){roll(l.roueFrontLeft2,r,i+2),roll(l.roueFrontRight2,r,i+2),setTimeout(function(){roll(l.roueBackLeft2,r,i+2),roll(l.roueBackRight2,r,i+2)},o)},150),window.setInterval(function(){roll(l.roueFrontLeft,r,i+8),roll(l.roueFrontRight,r,i+8),setTimeout(function(){roll(l.roueBackLeft,r,i+8),roll(l.roueBackRight,r,i+8)},o)},3e3),window.setInterval(function(){roll(l.roueFrontLeft2,r,i+8),roll(l.roueFrontRight2,r,i+8),setTimeout(function(){roll(l.roueBackLeft2,r,i+8),roll(l.roueBackRight2,r,i+8)},o)},3e3),window.setInterval(function(){roll(l.moteurElec,r,i+3)},10),window.setInterval(function(){l.roueBackRight2.attr({"fill-opacity":0}),l.roueBackLeft2.attr({"fill-opacity":0}),l.roueFrontRight2.attr({"fill-opacity":0}),l.roueFrontLeft2.attr({"fill-opacity":0}),l.roueBackRight.attr({"fill-opacity":1}),l.roueBackLeft.attr({"fill-opacity":1}),l.roueFrontRight.attr({"fill-opacity":1}),l.roueFrontLeft.attr({"fill-opacity":1}),setTimeout(function(){l.roueBackRight2.attr({"fill-opacity":1}),l.roueBackLeft2.attr({"fill-opacity":1}),l.roueFrontRight2.attr({"fill-opacity":1}),l.roueFrontLeft2.attr({"fill-opacity":1}),l.roueBackRight.attr({"fill-opacity":0}),l.roueBackLeft.attr({"fill-opacity":0}),l.roueFrontRight.attr({"fill-opacity":0}),l.roueFrontLeft.attr({"fill-opacity":0})},o)},200)},100)},300)})})})})})})})})})})})})},700)})})})})})})})})})})})})})})})})})})})}function endValueAnimation(){var e=Snap("#VALEUR-dispatch");kart=e.select("#kart");var t=1e3,n=500;kart.animate({transform:"t"+[t,n]},1e3,mina.backin),window.setTimeout(function(){kart.remove(),valueAnimation()},2e3)}valueAnimation(),$("#VALEUR-dispatch").on("click",function(){endValueAnimation()});