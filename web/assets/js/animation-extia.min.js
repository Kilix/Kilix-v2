Kilix.animations.extia={animStatus:!1,powerLinesIntervals:new Array,colorInterval:null,riskInterval:null,setAnimStatus:function(i){Kilix.animations.extia.animStatus=i},freeIntervals:function(){clearInterval(Kilix.animations.extia.riskInterval),clearInterval(Kilix.animations.extia.colorInterval);for(var i in Kilix.animations.extia.powerLinesIntervals)clearInterval(i)},start:function(){function i(){Snap.load("./assets/img/svg/kilix_anim_extia.svg",function(i){t(i),c.append(f),c.append(u.valeurText),c.append(u.risqueText),c.append(u.amelioText),e()})}function t(i){f=i.select("#extia-factory"),u.reload=i.select("#extia-reload").attr({"fill-opacity":0}),u.logoExtia=i.select("#logo-extia").attr({"fill-opacity":0}),u.valeurText=i.select("#text-valeur"),u.valeurKart=i.select("#valeur-kart").attr({"fill-opacity":0}),u.valeurDispatch=i.select("#valeur-dispatch"),u.amelioText=i.select("#text-amelio"),u.amelioF1=i.select("#amelio-f1").attr({"fill-opacity":0}),u.amelioKart=i.select("#amelio-kart"),u.risqueText=i.select("#text-risques"),u.risquePanneau=i.select("#risque-panneau").attr({"fill-opacity":0}),u.risqueRock=i.select("#risque-rock").attr({"fill-opacity":0}),u.risqueTrajectoire=i.select("#risque-trajectoire").attr({"fill-opacity":0}),u.risquePointe=i.select("#risque-pointe").attr({"fill-opacity":0}),u.filValeur=i.select("#fil-valeur").select("path"),u.filRisque=i.select("#fil-risque").select("path"),u.filAmelio=i.select("#fil-amelio").select("path"),u.risquesMini=i.select("#risques-mini").attr({"fill-opacity":0}),u.valeurMini=i.select("#valeur-mini").attr({"fill-opacity":0}),u.amelioMini=i.select("#amelio-mini").attr({"fill-opacity":0})}function e(){bounce(u.logoExtia,700,700,function(){Kilix.animations.extia.colorInterval=colorPulse(u.logoExtia,p,600,700,function(){a()})})}function a(){r($("#fil-valeur path"),0),s(u.valeurText,u.valeurKart.attr("fill")),setTimeout(function(){bounce(u.valeurMini,700,700),setTimeout(function(){u.valeurDispatch.animate({transform:"t0,s0,0"},100,function(){bounce(u.valeurKart,500,500,function(){setTimeout(function(){l()},500)})})},1e3)},600)}function l(){r($("#fil-risque path"),1),s(u.risqueText,u.risqueRock.select("polygon").attr("fill")),setTimeout(function(){bounce(u.risquesMini,700,700,function(){u.risqueRock.animate({"fill-opacity":1},600,function(){bounce(u.risquePanneau,800),Kilix.animations.extia.riskInterval=scalePulse(u.risquePanneau,"1.2",500,1e3,function(){u.risquePointe.animate({"fill-opacity":1},500),u.risqueTrajectoire.animate({"fill-opacity":1},500,function(){setTimeout(function(){n()},500)})})})})},400)}function n(){r($("#fil-amelio path"),2),s(u.amelioText,u.amelioKart.attr("fill")),setTimeout(function(){bounce(u.amelioKart,700,750,function(){u.amelioKart.attr({"fill-opacity":0}),bounce(u.amelioF1,1e3,1e3,function(){Kilix.animations.extia.animStatus=!0,u.reload.animate({"fill-opacity":1},400)})})},400)}function o(){u.reload.animate({"fill-opacity":0},100,function(){u.valeurKart.animate({"fill-opacity":0},400),u.valeurText.animate({"fill-opacity":0},400),u.valeurMini.attr({"fill-opacity":0}),u.valeurDispatch.attr({transform:"t0,s1,1"}),u.risqueRock.animate({"fill-opacity":0},400),u.risquePointe.animate({"fill-opacity":0},400),u.risqueTrajectoire.animate({"fill-opacity":0},400),u.risquePanneau.animate({"fill-opacity":0},400),u.risquesMini.animate({"fill-opacity":0},400),u.risqueText.animate({"fill-opacity":0},400),u.amelioF1.animate({"fill-opacity":0},400),u.amelioText.animate({"fill-opacity":0},400),Kilix.animations.extia.freeIntervals(),setTimeout(function(){a()},400)})}function r(i,t){i.css({stroke:m}),Kilix.animations.extia.powerLinesIntervals[t]=setInterval(function(){i.css({stroke:m})},500)}function s(i,t){var e=i.selectAll('[fill="#B8B8B8"]');for(var a in e)"function"==typeof e[a].animate&&e[a].animate({fill:t},500)}var c=Snap("#EXTIA-animation"),u=new Array,f=null,m="#FFFFFF",p="#E6B171";$("#EXTIA-animation").on("click",function(){1==Kilix.animations.extia.animStatus&&(Kilix.animations.extia.animStatus=!1,o())}),i()}};