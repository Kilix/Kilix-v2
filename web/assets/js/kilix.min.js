var Kilix={init:function(){Kilix.switchSVG(),Kilix.nav(),Kilix.wayPoints()},pushState:function(){function n(n){$("html, body").animate({scrollTop:0},500),"1"!=e?$(".navbar").removeClass("navbar-top"):$(".navbar").addClass("navbar-top"),r=e>t?!0:!1,$(".nav-links-wrapper").addClass("disabled"),$(".main-wrapper").append("<div class='wrapper wrapper-new'></div>"),r||$(".wrapper-new").addClass("wrapper-prev"),$(".wrapper-new").load(n+" .container",function(){$(".wrapper:first-child").transition({x:r?"-5%":"5%",opacity:0,delay:500},1200),$(".wrapper-new").css({opacity:0,x:r?"-5%":"5%"}).transition({x:"0%",opacity:1,delay:500},1200,function(){$(".wrapper:first-child").remove(),$(".wrapper-new").attr("style","").removeClass("wrapper-new"),$(".wrapper-prev").attr("style","").removeClass("wrapper-prev"),$(".nav-links-wrapper").removeClass("disabled"),Pos=$(".container").data("pos")})})}function a(a){n(a.url)}"file:"===document.location.protocol&&alert("The HTML5 History API (and thus History.js) do not work on files, please upload it to a server.");var t,e,i=window.History,r=(i.getState(),!0);i.Adapter.bind(window,"statechange",function(){var n=i.getState();i.log("statechange:",n.data,n.title,n.url),a(n)}),$(".nav-links-wrapper a").on("click",function(n){t=$(".nav-link.current").data("pos"),e=$(this).data("pos"),$(".nav-link.current").removeClass("current"),$(this).addClass("current"),i.pushState(null,this.textContent,this.href),n.preventDefault()})},switchSVG:function(){Modernizr.svg?$("img.svg").each(function(){var n=$(this),a=n.attr("id"),t=n.attr("class"),e=n.attr("src");$.get(e,function(e){var i=$(e).find("svg");"undefined"!=typeof a&&(i=i.attr("id",a)),"undefined"!=typeof t&&(i=i.attr("class",t+" replaced-svg")),i=i.removeAttr("xmlns:a"),n.replaceWith(i)})}):$('img.svg[src*="svg"]').attr("src",function(){return $(this).attr("src").replace(".svg",".png")})},nav:function(){$(".toggle-menu").on("click",function(){$(".nav-links-wrapper").removeClass("nav-links-hidden"),$("body").toggleClass("unfolded"),window.setTimeout(function(){$("body").hasClass("unfolded")||$(".nav-links-wrapper").addClass("nav-links-hidden")},605)})},wayPoints:function(){$(".svg-valeur").waypoint(function(){$(".navbar").toggleClass("navbar-top")},{offset:"200px"})},animations:{},home:function(){$(".landing-next-section-back, .landing-next-section-arrow").on("click",function(){$("html, body").animate({scrollTop:750},"slow")}),Kilix.animations.risques()},agilite:function(){},contact:function(){}};$(function(){Kilix.init()});