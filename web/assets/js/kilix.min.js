var Kilix={init:function(){Kilix.pushState(),Kilix.switchSVG(),Kilix.nav(),Kilix.wayPoints(),Kilix[$(".container").data("page")].init()},pushState:function(){function t(t){var n=t.url,o=$(".container").data("page");$("html, body").animate({scrollTop:0},500),e=r[t.title.toLowerCase()],$(".nav-link.current").removeClass("current"),$('.nav-link[data-pos="'+e+'"]').addClass("current"),i=e>a?!0:!1,$(".nav-links-wrapper").addClass("disabled"),$(".main-wrapper").append("<div class='wrapper wrapper-new'></div>"),i||$(".wrapper-new").addClass("wrapper-prev"),$(".wrapper-new").load(n+" .container",function(){$(".wrapper:first-child").transition({x:i?"-5%":"5%",opacity:0,delay:500},1200),$(".wrapper-new").css({opacity:0,x:i?"-5%":"5%"}).transition({x:"0%",opacity:1,delay:500},1200,function(){$(".wrapper:first-child").remove(),$(".wrapper-new").attr("style","").removeClass("wrapper-new"),$(".wrapper-prev").attr("style","").removeClass("wrapper-prev"),$(".nav-links-wrapper").removeClass("disabled"),Pos=$(".container").data("pos")}),Kilix[o].destroy(),Kilix[t.title.toLowerCase()].init()})}function n(n){t(n)}"file:"===document.location.protocol&&alert("The HTML5 History API (and thus History.js) do not work on files, please upload it to a server.");var a,e,o=window.History,i=(o.getState(),!0),r={home:1,team:2,agilite:3,contact:4};o.Adapter.bind(window,"statechange",function(){var t=o.getState();o.log("statechange:",t.data,t.title,t.url),n(t)}),$(".nav-links-wrapper a").on("click",function(t){a=$(".nav-link.current").data("pos"),o.pushState(null,this.textContent,this.href),t.preventDefault()})},switchSVG:function(){Modernizr.svg?$("img.svg").each(function(){var t=$(this),n=t.attr("id"),a=t.attr("class"),e=t.attr("src");$.get(e,function(e){var o=$(e).find("svg");"undefined"!=typeof n&&(o=o.attr("id",n)),"undefined"!=typeof a&&(o=o.attr("class",a+" replaced-svg")),o=o.removeAttr("xmlns:a"),t.replaceWith(o)})}):$('img.svg[src*="svg"]').attr("src",function(){return $(this).attr("src").replace(".svg",".png")})},nav:function(){$(".toggle-menu").on("click",function(){$(".nav-links-wrapper").removeClass("nav-links-hidden"),$("body").toggleClass("unfolded"),window.setTimeout(function(){$("body").hasClass("unfolded")||$(".nav-links-wrapper").addClass("nav-links-hidden")},605)})},wayPoints:function(){},animations:{},home:{init:function(){$(".landing-next-section-back, .landing-next-section-arrow").on("click",function(){$("html, body").animate({scrollTop:750},"slow")}),$(".svg-valeur").waypoint(function(){$(".navbar").toggleClass("navbar-top")},{offset:"200px"});var t=!1;$(".svg-risque").waypoint(function(){0==t&&Kilix.animations.risques.start(),t=!0},{offset:"80%"}),$(".svg-risque").waypoint(function(){console.log("lol")},{offset:"-"+$(".svg-risque").height()+"px"})},destroy:function(){console.log("Destroy Home"),$(".svg-valeur").waypoint("destroy"),$(".landing-next-section-back, .landing-next-section-arrow").off(),$(".navbar").addClass("navbar-top")}},agilite:{init:function(){$(".content").waypoint(function(t){console.log(t),$(".navbar").toggleClass("navbar-top")},{offset:"200px"}),console.log("Init AGILITY")},destroy:function(){console.log("Destroy AGILITY"),$(".navbar").addClass("navbar-top"),$(".content").waypoint("destroy")}},contact:{init:function(){console.log("Init Contact")},destroy:function(){console.log("Destroy Contact")}}};$(function(){console.log("init"),Kilix.init()});